{
  "openapi": "3.0.4",
  "info": {
    "title": "WebCodesBares API",
    "version": "v1"
  },
  "paths": {
    "/Commande/valider-achat-paypal": {
      "get": {
        "tags": [
          "Commande"
        ],
        "parameters": [
          {
            "name": "paypalOrderId",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/licences/verifier": {
      "get": {
        "tags": [
          "Licence"
        ],
        "parameters": [
          {
            "name": "cle",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/licences/consommer": {
      "post": {
        "tags": [
          "Licence"
        ],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/mitarbeiter/ajouter": {
      "post": {
        "tags": [
          "Mitarbeiter"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Mitarbeiter"
              }
            },
            "text/json": {
              "schema": {
                "$ref": "#/components/schemas/Mitarbeiter"
              }
            },
            "application/*+json": {
              "schema": {
                "$ref": "#/components/schemas/Mitarbeiter"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/details": {
      "get": {
        "tags": [
          "Panier"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/count": {
      "get": {
        "tags": [
          "Panier"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/ajouter": {
      "post": {
        "tags": [
          "Panier"
        ],
        "parameters": [
          {
            "name": "produitId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/supprimer": {
      "delete": {
        "tags": [
          "Panier"
        ],
        "parameters": [
          {
            "name": "produitId",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/produits": {
      "get": {
        "tags": [
          "Panier"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/panier/vider": {
      "post": {
        "tags": [
          "Panier"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/utilisateur/estConnecte": {
      "get": {
        "tags": [
          "PayPal"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/paypal/create-order": {
      "post": {
        "tags": [
          "PayPal"
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { }
            },
            "text/json": {
              "schema": { }
            },
            "application/*+json": {
              "schema": { }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/paypal/capture-order/{orderId}": {
      "post": {
        "tags": [
          "PayPal"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/paypal/success": {
      "get": {
        "tags": [
          "PayPal"
        ],
        "parameters": [
          {
            "name": "orderId",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/paypal/cancel": {
      "get": {
        "tags": [
          "PayPal"
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApplicationUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "userName": {
            "type": "string",
            "nullable": true
          },
          "normalizedUserName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "normalizedEmail": {
            "type": "string",
            "nullable": true
          },
          "emailConfirmed": {
            "type": "boolean"
          },
          "passwordHash": {
            "type": "string",
            "nullable": true
          },
          "securityStamp": {
            "type": "string",
            "nullable": true
          },
          "concurrencyStamp": {
            "type": "string",
            "nullable": true
          },
          "phoneNumber": {
            "type": "string",
            "nullable": true
          },
          "phoneNumberConfirmed": {
            "type": "boolean"
          },
          "twoFactorEnabled": {
            "type": "boolean"
          },
          "lockoutEnd": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lockoutEnabled": {
            "type": "boolean"
          },
          "accessFailedCount": {
            "type": "integer",
            "format": "int32"
          },
          "vorname": {
            "type": "string",
            "nullable": true
          },
          "nachname": {
            "type": "string",
            "nullable": true
          },
          "geburtsdatum": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "estAdmin": {
            "type": "boolean"
          }
        },
        "additionalProperties": false
      },
      "Commande": {
        "type": "object",
        "properties": {
          "id_Commande": {
            "type": "integer",
            "format": "int32"
          },
          "clientId": {
            "type": "string",
            "nullable": true
          },
          "dateAchat": {
            "type": "string",
            "format": "date-time"
          },
          "estPaye": {
            "type": "boolean"
          },
          "client": {
            "$ref": "#/components/schemas/ApplicationUser"
          },
          "payPalId": {
            "type": "string",
            "nullable": true
          },
          "commandeProduits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommandeProduit"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "CommandeProduit": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "id_Commande": {
            "type": "integer",
            "format": "int32"
          },
          "commande": {
            "$ref": "#/components/schemas/Commande"
          },
          "id_Produit": {
            "type": "integer",
            "format": "int32"
          },
          "produit": {
            "$ref": "#/components/schemas/Produit"
          }
        },
        "additionalProperties": false
      },
      "Licence": {
        "required": [
          "active",
          "barcodesRestants",
          "cle",
          "dateEmission",
          "dateExpiration",
          "id_Commande",
          "nombreBarcodes",
          "nombreUtilisateurs",
          "prix",
          "prixMaintenance",
          "type",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id_Licence": {
            "type": "integer",
            "format": "int32"
          },
          "cle": {
            "maxLength": 100,
            "minLength": 0,
            "type": "string"
          },
          "type": {
            "maxLength": 50,
            "minLength": 0,
            "type": "string"
          },
          "nombreUtilisateurs": {
            "type": "integer",
            "format": "int32"
          },
          "nombreBarcodes": {
            "type": "integer",
            "format": "int32"
          },
          "prix": {
            "type": "number",
            "format": "double"
          },
          "prixMaintenance": {
            "type": "number",
            "format": "double"
          },
          "dateEmission": {
            "type": "string",
            "format": "date-time"
          },
          "dateExpiration": {
            "type": "string",
            "format": "date-time"
          },
          "active": {
            "type": "boolean"
          },
          "id_Commande": {
            "type": "integer",
            "format": "int32"
          },
          "barcodesRestants": {
            "type": "integer",
            "format": "int32"
          },
          "commande": {
            "$ref": "#/components/schemas/Commande"
          },
          "userName": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "userId": {
            "minLength": 1,
            "type": "string"
          },
          "utilisateur": {
            "$ref": "#/components/schemas/ApplicationUser"
          },
          "estSuspendue": {
            "type": "boolean"
          },
          "datePause": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        },
        "additionalProperties": false
      },
      "Mitarbeiter": {
        "required": [
          "adminId",
          "licenceId",
          "userId"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int32"
          },
          "userId": {
            "minLength": 1,
            "type": "string"
          },
          "user": {
            "$ref": "#/components/schemas/ApplicationUser"
          },
          "adminId": {
            "minLength": 1,
            "type": "string"
          },
          "admin": {
            "$ref": "#/components/schemas/ApplicationUser"
          },
          "licenceId": {
            "type": "integer",
            "format": "int32"
          },
          "licence": {
            "$ref": "#/components/schemas/Licence"
          }
        },
        "additionalProperties": false
      },
      "Produit": {
        "required": [
          "nom",
          "prix",
          "type"
        ],
        "type": "object",
        "properties": {
          "id_Produit": {
            "type": "integer",
            "format": "int32"
          },
          "nom": {
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "prix": {
            "type": "number",
            "format": "double"
          },
          "quantite": {
            "type": "integer",
            "format": "int32"
          },
          "estLicenceVolume": {
            "type": "boolean"
          },
          "stock": {
            "type": "integer",
            "format": "int32"
          },
          "imageUrl": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "minLength": 1,
            "type": "string"
          },
          "lienTelechargement": {
            "type": "string",
            "nullable": true
          },
          "commandeProduits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CommandeProduit"
            },
            "nullable": true
          }
        },
        "additionalProperties": false
      }
    }
  }
}